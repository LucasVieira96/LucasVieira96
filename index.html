<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="css/footer.css" media="screen,projection" />

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

</head>

<body>
  <!-- NAV -->

  <nav>
    <div class="nav-wrapper grey darken-4">
      <a class="brand-logo">
        <i class="valign-wrapper hide-on-small-only" style="font-size: 20px">
          <img width="120" src="img/Logo.png" style="margin-right: 10px">Gerador de Tickets</i>
      </a>
      <a href="#" data-activates="mobile-demo" class="button-collapse">
        <i class="material-icons">menu</i>
      </a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li>
          <a class="waves-effect waves-light btn grey darken-1" onclick="limpaFormulario()">
            <i class="large material-icons left" style="font-size: 30px">add_box</i>Novo Ticket</a>
        </li>
        <li>
          <a class="waves-effect waves-light btn grey darken-1" href="pages/login.html">
            <i class="material-icons left">person</i>Entrar</a>
        </li>
      </ul>
      <ul class="side-nav" id="mobile-demo">
        <li>
          <a onclick="limpaFormulario()">
            <i class="material-icons left black-text">add_box</i>Novo Ticket</a>
        </li>
        <li>
          <a href="pages/login.html">
            <i class="material-icons left black-text">person</i>Entrar</a>
        </li>
      </ul>
    </div>
  </nav>
  <!-- Conteúdo -->
  <main>
    <form action="index.html">
      <div class="row" style="margin-top: 30px; margin-left: 2%">
        <form class="col s12">
          <div class="row">
            <div class="input-field col m4 s12">
              <i class="material-icons prefix">account_circle</i>
              <input id="first" required type="text" class="validate">
              <label for="icon_prefix">Nome</label>
            </div>
            <div class="input-field col m2 s12">
              <i class="material-icons prefix">phone</i>
              <input id="fone" required type="number" max="999" min="900" class="validate">
              <label for="icon_telephone">Ramal</label>
            </div>
            <div class="input-field col s12 m4 ">
              <i class="material-icons prefix">work</i>
              <input type="text" required id="setor" class="autocomplete validate">
              <label for="autocomplete-input">Setor</label>
            </div>
          </div>
          <div class="row">
            <div class="row">
              <div class="input-field col s12 m10">
                <i class="material-icons prefix">report problem</i>
                <textarea id="descricao" class="materialize-textarea validate" data-length="500" maxlength="500"></textarea>
                <label for="textarea1">Descrição do Problema</label>
              </div>
            </div>
            <div class="file-field input-field col s12 m6">
              <div class="btn">
                <span>Anexo</span>
                <input id="upload" type="file" multiple>
              </div>
              <div class="file-path-wrapper">
                <input id="upload-text" class="file-path validate" type="text">
              </div>
              <label style="margin-top: 40px; margin-left: 120px">Caso necessário insira um ou mais arquivos em anexo ao seu ticket</label>
            </div>
          </div>
          <div class="input-field col m7 s9 offset-m5 offset-s3">
            <button class="btn waves-effect waves-light" style="margin-top: 40px" type="submit" name="action">Enviar Ticket
              <i class="material-icons right">send</i>
            </button>
          </div>
        </form>
      </div>

      <!-- Modal Structure -->
      <div id="modal1" class="modal">
        <div class="modal-content">
          <h4>Tamanho não permitido!</h4>
          <p>Para upload escolha um arquivo que não ultrapasse de 20Mb</p>
        </div>
        <div class="modal-footer">
          <a class="modal-action modal-close waves-effect waves-green btn-flat">Entendido</a>
        </div>
      </div>
    </form>
  </main>


  <!-- FOOTER-->
  <footer class="page-footer grey darken-5">
    <div class="footer-copyright">
      <div class="container" style="margin-left: 45%">
        © 2017 Copyright Fibrafort
      </div>
    </div>
  </footer>


  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>
  <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
  <script type="text/javascript" src="js/materialize.min.js"></script>
  <script type="text/javascript" src="js/configHtml.js"></script>
  <script>
    //Controle de tamanho de Upload
    var upload = document.getElementById("upload");
    upload.addEventListener("change", function (e) {
      var size = upload.files[0].size;
      if (size > 20971520) { //20MB         
        $('#modal1').modal('open');
        // alert('Não permitido, tamanho máximo aceito de 20Mb');
        upload.value = ""; //Limpa o campo          
      }
      e.preventDefault();
    });

    function limpaFormulario() {
      document.getElementById('first').value = '';
      document.getElementById('fone').value = '';
      document.getElementById('setor').value = '';
      document.getElementById('descricao').value = '';
      document.getElementById('upload-text').value = '';
      document.getElementById('upload').value = '';
      $('#first').focus();
    }

    
  </script>
</body>

</html>